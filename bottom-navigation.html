<!-- Bottom Navigation Component - ä¸»è¦4é …ç›®ã¸ã®é«˜é€Ÿã‚¢ã‚¯ã‚»ã‚¹ -->
<!-- å„HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®</body>ã‚¿ã‚°ã®ç›´å‰ã«è¿½åŠ  -->

<nav class="bottom-nav" role="navigation" aria-label="ä¸»è¦ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
  <ul>
    <li>
      <a href="index.html" aria-current="page">
        <span class="nav-icon" aria-hidden="true">ğŸ </span>
        <span>ãƒ›ãƒ¼ãƒ </span>
      </a>
    </li>
    <li>
      <a href="research.html">
        <span class="nav-icon" aria-hidden="true">ğŸ”¬</span>
        <span>ç ”ç©¶</span>
      </a>
    </li>
    <li>
      <a href="publications.html">
        <span class="nav-icon" aria-hidden="true">ğŸ“š</span>
        <span>è«–æ–‡</span>
      </a>
    </li>
    <li>
      <a href="contact.html">
        <span class="nav-icon" aria-hidden="true">âœ‰ï¸</span>
        <span>é€£çµ¡</span>
      </a>
    </li>
  </ul>
</nav>

<!-- JavaScript for Bottom Navigation -->
<script>
(function() {
  'use strict';
  
  // ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
  const currentPath = window.location.pathname;
  const bottomNavLinks = document.querySelectorAll('.bottom-nav a');
  
  bottomNavLinks.forEach(link => {
    const href = link.getAttribute('href');
    if (currentPath.includes(href) || 
        (href === 'index.html' && currentPath.endsWith('/'))) {
      link.setAttribute('aria-current', 'page');
    }
  });
  
  // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ã«ãƒœãƒˆãƒ ãƒŠãƒ“ã‚’éš ã™/è¡¨ç¤ºã™ã‚‹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  let lastScrollTop = 0;
  let isScrolling = false;
  const bottomNav = document.querySelector('.bottom-nav');
  
  function handleScroll() {
    if (!isScrolling) {
      window.requestAnimationFrame(() => {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        if (scrollTop > lastScrollTop && scrollTop > 100) {
          // ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« - ãƒŠãƒ“ã‚’éš ã™
          bottomNav.style.transform = 'translateY(100%)';
        } else {
          // ä¸Šã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« - ãƒŠãƒ“ã‚’è¡¨ç¤º
          bottomNav.style.transform = 'translateY(0)';
        }
        
        lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        isScrolling = false;
      });
      
      isScrolling = true;
    }
  }
  
  // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
  let scrollTimeout;
  window.addEventListener('scroll', () => {
    if (scrollTimeout) {
      window.cancelAnimationFrame(scrollTimeout);
    }
    scrollTimeout = window.requestAnimationFrame(handleScroll);
  }, { passive: true });
  
  // ãƒœãƒˆãƒ ãƒŠãƒ“ã®ã‚¹ãƒ ãƒ¼ã‚ºãªè¡¨ç¤º/éè¡¨ç¤ºãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³
  if (bottomNav) {
    bottomNav.style.transition = 'transform 0.3s ease-in-out';
  }
})();
</script>

<!-- ä½¿ç”¨æ–¹æ³• -->
<!-- 
1. mobile-optimizations.css ã‚’HTMLãƒ•ã‚¡ã‚¤ãƒ«ã«èª­ã¿è¾¼ã‚€
   <link rel="stylesheet" href="../mobile-optimizations.css">

2. ã“ã®ãƒœãƒˆãƒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’</body>ã‚¿ã‚°ã®ç›´å‰ã«è¿½åŠ 

3. å„ãƒšãƒ¼ã‚¸ã§ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã«å¿œã˜ã¦aria-current="page"ã‚’è¨­å®š

ä¾‹: research.htmlã®å ´åˆ
<nav class="bottom-nav">
  <ul>
    <li><a href="index.html">...</a></li>
    <li><a href="research.html" aria-current="page">...</a></li>
    ...
  </ul>
</nav>
-->