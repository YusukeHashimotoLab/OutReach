<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>レスポンシブデザイン完全テスト</title>
  <link rel="stylesheet" href="all-styles.css">
  <link rel="stylesheet" href="responsive-system.css">
  <link rel="stylesheet" href="responsive-utilities.css">
  <link rel="stylesheet" href="home-styles.css">
  <script src="navigation.js" defer></script>
  <style>
    /* テスト環境用スタイル */
    .test-container {
      padding: 20px;
      background: #f0f4f8;
      min-height: 100vh;
    }
    
    .viewport-controls {
      position: fixed;
      top: 10px;
      right: 10px;
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      z-index: 1000;
    }
    
    .viewport-info {
      font-family: monospace;
      font-size: 14px;
      margin-bottom: 10px;
      padding: 8px;
      background: #f0f4f8;
      border-radius: 4px;
    }
    
    .viewport-buttons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
    }
    
    .viewport-btn {
      padding: 8px 12px;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      transition: background 0.3s;
    }
    
    .viewport-btn:hover {
      background: #2980b9;
    }
    
    .viewport-btn.active {
      background: #27ae60;
    }
    
    .device-frame {
      margin: 60px auto 20px;
      background: white;
      border: 2px solid #333;
      border-radius: 12px;
      overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    .test-sections {
      padding: 20px;
    }
    
    .test-section {
      margin-bottom: 40px;
      padding: 20px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    
    .test-section h2 {
      font-size: clamp(1.5rem, 4vw + 0.5rem, 2rem);
      color: #1a252f;
      margin-bottom: 15px;
    }
    
    .breakpoint-indicator {
      position: fixed;
      bottom: 10px;
      left: 10px;
      background: #1a252f;
      color: white;
      padding: 10px 15px;
      border-radius: 6px;
      font-family: monospace;
      font-size: 14px;
      z-index: 1000;
    }
    
    /* グリッドテスト */
    .grid-test {
      margin: 20px 0;
    }
    
    .grid-item {
      background: #3498db;
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 4px;
    }
    
    /* タイポグラフィテスト */
    .typography-test {
      margin: 20px 0;
    }
    
    .typography-test p {
      margin-bottom: 15px;
    }
    
    /* 画像テスト */
    .image-test {
      margin: 20px 0;
    }
    
    .image-test img {
      margin-bottom: 20px;
    }
    
    /* フォームテスト */
    .form-test {
      margin: 20px 0;
    }
    
    .form-test input,
    .form-test select,
    .form-test textarea {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border: 1px solid #e9ecef;
      border-radius: 4px;
      font-size: 16px;
    }
    
    .form-test button {
      padding: 12px 24px;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      min-height: 48px;
      font-size: 16px;
    }
    
    /* ユーティリティクラスのデモ */
    .utility-demo {
      margin: 20px 0;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <!-- Viewport情報 -->
  <div class="viewport-controls">
    <div class="viewport-info">
      <div>Width: <span id="viewportWidth">0</span>px</div>
      <div>Height: <span id="viewportHeight">0</span>px</div>
      <div>Device: <span id="deviceType">Unknown</span></div>
    </div>
    <div class="viewport-buttons">
      <button class="viewport-btn" onclick="setViewport(375, 667)">iPhone SE</button>
      <button class="viewport-btn" onclick="setViewport(414, 896)">iPhone 11</button>
      <button class="viewport-btn" onclick="setViewport(768, 1024)">iPad</button>
      <button class="viewport-btn" onclick="setViewport(1024, 768)">Desktop</button>
      <button class="viewport-btn" onclick="setViewport(1440, 900)">Desktop HD</button>
      <button class="viewport-btn active" onclick="setViewport('auto', 'auto')">Auto</button>
    </div>
  </div>
  
  <!-- ブレークポイントインジケーター -->
  <div class="breakpoint-indicator" id="breakpointIndicator">
    Current: <span id="currentBreakpoint">unknown</span>
  </div>
  
  <!-- メインコンテンツ -->
  <div class="device-frame" id="deviceFrame">
    <div class="test-sections">
      
      <!-- ナビゲーションテスト -->
      <header>
        <div class="header-content container">
          <h1>レスポンシブテスト</h1>
          <nav role="navigation">
            <a href="#grid">グリッド</a>
            <a href="#typography">タイポグラフィ</a>
            <a href="#images">画像</a>
            <a href="#forms">フォーム</a>
            <a href="#utilities">ユーティリティ</a>
          </nav>
        </div>
      </header>
      
      <!-- グリッドシステムテスト -->
      <section class="test-section" id="grid">
        <h2>グリッドシステム</h2>
        
        <h3>レスポンシブグリッド（自動調整）</h3>
        <div class="grid grid-auto-fit grid-test">
          <div class="grid-item">Item 1</div>
          <div class="grid-item">Item 2</div>
          <div class="grid-item">Item 3</div>
          <div class="grid-item">Item 4</div>
        </div>
        
        <h3>固定カラムグリッド</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 grid-test">
          <div class="grid-item">Col 1</div>
          <div class="grid-item">Col 2</div>
          <div class="grid-item">Col 3</div>
          <div class="grid-item">Col 4</div>
        </div>
      </section>
      
      <!-- タイポグラフィテスト -->
      <section class="test-section" id="typography">
        <h2>流動的タイポグラフィ</h2>
        
        <div class="typography-test">
          <h1 class="text-fluid-5xl">見出し5XL - clamp(3rem, 2.4rem + 3vw, 4.5rem)</h1>
          <h2 class="text-fluid-4xl">見出し4XL - clamp(2.25rem, 1.8rem + 2.25vw, 3.75rem)</h2>
          <h3 class="text-fluid-3xl">見出し3XL - clamp(1.875rem, 1.5rem + 1.875vw, 3rem)</h3>
          <h4 class="text-fluid-2xl">見出し2XL - clamp(1.5rem, 1.2rem + 1.5vw, 2.25rem)</h4>
          <p class="text-fluid-lg">大きめの本文 - clamp(1.125rem, 1rem + 0.625vw, 1.5rem)</p>
          <p class="text-fluid-base">通常の本文 - clamp(1rem, 0.95rem + 0.25vw, 1.125rem)</p>
          <small class="text-fluid-sm">小さめの文字 - clamp(0.875rem, 0.8rem + 0.375vw, 1rem)</small>
        </div>
      </section>
      
      <!-- 画像テスト -->
      <section class="test-section" id="images">
        <h2>レスポンシブ画像</h2>
        
        <div class="image-test">
          <h3>アスペクト比保持</h3>
          <div class="aspect-video" style="background: #e9ecef;">
            <img src="images/hashimoto.png" 
                 alt="テスト画像" 
                 class="img-cover"
                 loading="lazy">
          </div>
          
          <h3>フレキシブル画像</h3>
          <img src="images/hashimoto.png" 
               alt="テスト画像" 
               class="img-responsive"
               loading="lazy"
               style="max-width: 400px;">
        </div>
      </section>
      
      <!-- フォームテスト -->
      <section class="test-section" id="forms">
        <h2>タッチフレンドリーフォーム</h2>
        
        <form class="form-test">
          <input type="text" placeholder="名前（最小48pxタッチターゲット）" class="touch-target">
          <input type="email" placeholder="メールアドレス" class="touch-target">
          <select class="touch-target">
            <option>オプション1</option>
            <option>オプション2</option>
            <option>オプション3</option>
          </select>
          <textarea placeholder="メッセージ" rows="4" class="touch-target"></textarea>
          <button type="submit" class="touch-target">送信する</button>
        </form>
      </section>
      
      <!-- ユーティリティクラステスト -->
      <section class="test-section" id="utilities">
        <h2>レスポンシブユーティリティ</h2>
        
        <div class="utility-demo">
          <h3>表示制御</h3>
          <div class="mb-4">
            <span class="p-2 bg-blue text-white rounded hide-mobile">モバイルで非表示</span>
            <span class="p-2 bg-green text-white rounded show-mobile-only">モバイルのみ表示</span>
          </div>
          
          <h3>スペーシング</h3>
          <div class="p-fluid-md m-fluid-sm" style="background: #e9ecef;">
            流動的パディング・マージン
          </div>
          
          <h3>フレックスボックス</h3>
          <div class="flex justify-between items-center gap-md">
            <div class="p-2" style="background: #3498db; color: white;">Flex 1</div>
            <div class="p-2" style="background: #2ecc71; color: white;">Flex 2</div>
            <div class="p-2" style="background: #e74c3c; color: white;">Flex 3</div>
          </div>
        </div>
      </section>
      
    </div>
  </div>
  
  <script>
    // Viewport情報の更新
    function updateViewportInfo() {
      const width = window.innerWidth;
      const height = window.innerHeight;
      
      document.getElementById('viewportWidth').textContent = width;
      document.getElementById('viewportHeight').textContent = height;
      
      // デバイスタイプの判定
      let deviceType = 'Desktop HD';
      if (width < 480) deviceType = 'Mobile';
      else if (width < 768) deviceType = 'Large Mobile';
      else if (width < 1024) deviceType = 'Tablet';
      else if (width < 1280) deviceType = 'Desktop';
      
      document.getElementById('deviceType').textContent = deviceType;
      
      // ブレークポイントの表示
      let breakpoint = '2xl (≥1536px)';
      if (width < 480) breakpoint = 'xs (<480px)';
      else if (width < 640) breakpoint = 'sm (480-639px)';
      else if (width < 768) breakpoint = 'md (640-767px)';
      else if (width < 1024) breakpoint = 'lg (768-1023px)';
      else if (width < 1280) breakpoint = 'xl (1024-1279px)';
      else if (width < 1536) breakpoint = '2xl (1280-1535px)';
      
      document.getElementById('currentBreakpoint').textContent = breakpoint;
    }
    
    // Viewportサイズの設定
    function setViewport(width, height) {
      const frame = document.getElementById('deviceFrame');
      const buttons = document.querySelectorAll('.viewport-btn');
      
      buttons.forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      if (width === 'auto') {
        frame.style.width = '100%';
        frame.style.maxWidth = 'none';
      } else {
        frame.style.width = width + 'px';
        frame.style.maxWidth = width + 'px';
      }
      
      updateViewportInfo();
    }
    
    // リサイズイベントのリスナー
    window.addEventListener('resize', updateViewportInfo);
    
    // 初期化
    updateViewportInfo();
    
    // スムーススクロール
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  </script>
</body>
</html>